[gcode_macro CANCEL_PRINT]
description: Cancel the actual running print
rename_existing: CANCEL_PRINT_BASE
gcode:
  TURN_OFF_HEATERS
  CANCEL_PRINT_BASE
  G28 X Y


[gcode_macro UNLOAD_FILAMENT]
gcode:
    M104 S200                  ; Set extruder temperature to 200°C
    M109 S200                  ; Wait for extruder temperature to reach 200°C
    G92 E0                      ; Reset the extruder position
    G1 E-120 F300              ; Retract the filament by 120mm at a speed of 300mm/min
    G92 E0                      ; Reset the extruder position again
    M104 S0                    ; Turn off the extruder heater (optional)

[gcode_macro LOAD_FILAMENT]
gcode:
    M104 S200                  ; Set extruder temperature to 200°C
    M109 S200                  ; Wait for extruder temperature to reach 200°C
    G92 E0                      ; Reset the extruder position
    G1 E120 F300               ; Feed 120mm of filament at a speed of 300mm/min
    G92 E0                      ; Reset the extruder position again
    M104 S0                    ; Turn off the extruder heater (optional)

[gcode_macro EXTRUDE_10MM]
gcode:
    M104 S200                 ; Heat extruder to 200°C
    M109 S200                 ; Wait for extruder to reach 200°C
    G92 E0                    ; Reset extruder position
    G1 E10 F300               ; Extrude 10mm of filament
    G92 E0                    ; Reset extruder position

[gcode_macro PAUSE_PRINT]
gcode:
    M104 S0                   ; Turn off extruder heater (optional)
    M140 S0                   ; Turn off bed heater (optional)
    M84                       ; Disable motors
    G1 Z10                    ; Move the Z axis up 10mm
    M0                        ; Pause the print

[gcode_macro RESUME_PRINT]
gcode:
    M104 S200                 ; Heat extruder to 200°C
    M109 S200                 ; Wait for extruder to reach 200°C
    M140 S60                  ; Heat bed to 60°C (adjust as needed)
    M190 S60                  ; Wait for bed to reach 60°C
    M84                       ; Enable motors
    G1 Z10 F3000              ; Move Z axis down to the previous height
    M117 Printing...          ; Display a message on the screen

[gcode_macro COOL_DOWN]
gcode:
    M104 S0                   ; Turn off extruder heater
    M140 S0                   ; Turn off bed heater
    M107                      ; Turn off fan

[gcode_macro PRINT_STATS]
gcode:
    M117 Print Time: {print_time} ; Display print time
    M117 Filament Used: {filament_used} ; Display filament usage
    M117 Layer: {current_layer}/{total_layers} ; Display current layer and total layers

[gcode_macro TRAM_FRONT_LEFT]
description: "Manual bed trimming for front left corner"
gcode:
    # Move to home position
    G28
    # Move to front left corner
    G1 X10 Y10 Z0 F6000
    PAUSE

[gcode_macro TRAM_FRONT_RIGHT]
description: "Manual bed trimming for front right corner"
gcode:
    # Move to front right corner
    G1 X190 Y10 Z0 F6000
    PAUSE

[gcode_macro TRAM_BACK_RIGHT]
description: "Manual bed trimming for back right corner"
gcode:
    # Move to back right corner
    G1 X190 Y190 Z0 F6000
    PAUSE

[gcode_macro TRAM_BACK_LEFT]
description: "Manual bed trimming for back left corner"
gcode:
    # Move to back left corner
    G1 X10 Y190 Z0 F6000
    PAUSE

